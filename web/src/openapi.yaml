openapi: 3.1.0
info:
  title: Hono Documentation
  version: 0.0.0
  description: Development documentation
paths:
  '/api/v1/projects/{projectId}/translations/{locale}':
    get:
      operationId: getApiV1Projects:projectIdTranslations:locale
      description: 'Get translations for a specific locale in a project. Returns the latest published snapshot by default, or a specific version with ?v=N. Requires public key in headers.'
      tags:
        - Translations
      responses:
        '200':
          description: Successful response - returns key-value map of translations
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetTranslationsResponse'
        '400':
          description: Bad request - Invalid parameters or headers
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
        '401':
          description: Invalid or missing public key
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
        '404':
          description: 'Project not found, no published versions, or specific version not found'
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
      parameters:
        - in: path
          name: projectId
          schema:
            type: string
            format: uuid
            pattern: '^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$'
            example: proj_1234567890abcdef
          required: true
          description: ID of the project
        - in: path
          name: locale
          schema:
            example: en
            type: string
          required: true
          description: 'Locale code (e.g., en, es, fr)'
        - in: query
          name: v
          schema:
            example: 1
            type: integer
            exclusiveMinimum: 0
            maximum: 9007199254740991
          description: 'Version number to fetch (optional, omit for latest published version)'
        - in: header
          name: x-public-key
          schema:
            type: string
            minLength: 1
            example: pk_abc123
          required: true
          description: Public read key for the project
  /app-api/v1/p:
    post:
      operationId: postApp-apiV1P
      description: Create project
      tags:
        - Project
      responses:
        '201':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectResponse'
        '400':
          description: Bad request - Invalid payload schema or validation errors
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
        '404':
          description: Not authenticated
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
        '409':
          description: Conflict - Project with this name already exists for the user
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
      parameters:
        - in: header
          name: authorization
          schema:
            type: string
            example: Bearer f21wcpz7Aokmlh2MB632MZpTgfruPc62
          description: Bearer token for authentication
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateProjectPayload'
    get:
      operationId: getApp-apiV1P
      description: List all projects for the authenticated user
      tags:
        - Project
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListProjectsResponse'
        '404':
          description: Not authenticated
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
      parameters:
        - in: header
          name: authorization
          schema:
            type: string
            example: Bearer f21wcpz7Aokmlh2MB632MZpTgfruPc62
          description: Bearer token for authentication
  '/app-api/v1/p/{projectId}/strings/{stringKey}/versions':
    get:
      operationId: getApp-apiV1P:projectIdStrings:stringKeyVersions
      description: Get version history for a specific string across all locales or a specific locale
      tags:
        - Project
      responses:
        '200':
          description: Successful response with version history
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListStringVersionsResponse'
        '400':
          description: Invalid request parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
        '404':
          description: Project or string not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
      parameters:
        - in: header
          name: authorization
          schema:
            type: string
            example: Bearer f21wcpz7Aokmlh2MB632MZpTgfruPc62
          description: Bearer token for authentication
        - in: path
          name: projectId
          schema:
            type: string
            format: uuid
            pattern: '^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$'
            example: proj_1234567890abcdef
          required: true
          description: ID of the project
        - in: path
          name: stringKey
          schema:
            type: string
            minLength: 1
          required: true
          description: 'The string key (e.g., "HOME.TITLE")'
        - $ref: '#/components/parameters/ListStringVersionsQuery'
  '/app-api/v1/p/{projectId}':
    get:
      operationId: getApp-apiV1P:projectId
      description: Get a single project by ID
      tags:
        - Project
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProjectResponse'
        '400':
          description: Bad request - Invalid project ID format
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
        '404':
          description: Project not found or not authenticated
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
      parameters:
        - in: header
          name: authorization
          schema:
            type: string
            example: Bearer f21wcpz7Aokmlh2MB632MZpTgfruPc62
          description: Bearer token for authentication
        - $ref: '#/components/parameters/ReadProjectParams'
  /app-api/v1/auth/sign-up/email:
    post:
      operationId: postApp-apiV1AuthSign-upEmail
      summary: Sign up with email and password
      description: Create a new user account with email and password
      tags:
        - Authentication
      responses:
        '201':
          description: Account created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
          headers:
            set-auth-token:
              schema:
                type: string
              description: JWT token for API authentication
              example: 'eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9...'
            set-auth-token-expiry:
              schema:
                type: string
              description: JWT expiry time in seconds (as a string representing digits)
              example: '604800'
            set-session-token:
              schema:
                type: string
              description: Session token for token refresh
              example: f21wcpz7Aokmlh2MB632MZpTgfruPc62
            set-session-update-age:
              schema:
                type: string
              description: Session update age in seconds - session should be verified after this time
              example: '86400'
            set-cookie:
              schema:
                type: string
              description: Cookies that get set by the browser containing the access token
              example: better-auth.session_token=ZWTrzHy0WsTfyRmn2xDsG92DAd4HShYy.eschpAS43ZWSQKIVZb3vMBhLIYdapOWUOJwA6Jum788%3D
        '400':
          description: Invalid request or email already exists
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
        '401':
          description: Authentication failed or invalid credentials
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
        '409':
          description: Email already registered
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailPasswordSignUp'
  /app-api/v1/auth/sign-in/email:
    post:
      operationId: postApp-apiV1AuthSign-inEmail
      summary: Sign in with email and password
      description: Authenticate a user with email and password credentials
      tags:
        - Authentication
      responses:
        '200':
          description: Sign in successful
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
          headers:
            set-auth-token:
              schema:
                type: string
              description: JWT token for API authentication
              example: 'eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9...'
            set-auth-token-expiry:
              schema:
                type: string
              description: JWT expiry time in seconds (as a string representing digits)
              example: '604800'
            set-session-token:
              schema:
                type: string
              description: Session token for token refresh
              example: f21wcpz7Aokmlh2MB632MZpTgfruPc62
            set-session-update-age:
              schema:
                type: string
              description: Session update age in seconds - session should be verified after this time
              example: '86400'
            set-cookie:
              schema:
                type: string
              description: Cookies that get set by the browser containing the access token
              example: better-auth.session_token=ZWTrzHy0WsTfyRmn2xDsG92DAd4HShYy.eschpAS43ZWSQKIVZb3vMBhLIYdapOWUOJwA6Jum788%3D
        '400':
          description: Invalid credentials or request
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
        '401':
          description: Authentication failed or invalid credentials
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailPasswordSignIn'
  /app-api/v1/auth/sign-out:
    post:
      operationId: postApp-apiV1AuthSign-out
      summary: Sign out
      description: Sign out the current user and invalidate the session
      tags:
        - Authentication
      responses:
        '204':
          description: Sign out successful
  /app-api/v1/auth/token:
    get:
      operationId: getApp-apiV1AuthToken
      tags:
        - Authentication
      summary: Get JWT token
      description: Get a new JWT token for the authenticated session. Use bearer token authentication.
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Token retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenResponse'
          headers:
            set-auth-token:
              schema:
                type: string
              description: JWT token for API authentication
              example: 'eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9...'
            set-auth-token-expiry:
              schema:
                type: string
              description: JWT expiry time in seconds (as a string representing digits)
              example: '604800'
            set-session-token:
              schema:
                type: string
              description: Session token for token refresh
              example: f21wcpz7Aokmlh2MB632MZpTgfruPc62
            set-session-update-age:
              schema:
                type: string
              description: Session update age in seconds - session should be verified after this time
              example: '86400'
            set-cookie:
              schema:
                type: string
              description: Cookies that get set by the browser containing the access token
              example: better-auth.session_token=ZWTrzHy0WsTfyRmn2xDsG92DAd4HShYy.eschpAS43ZWSQKIVZb3vMBhLIYdapOWUOJwA6Jum788%3D
        '401':
          description: Not authenticated or session expired
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
  /app-api/v1/auth/session:
    get:
      operationId: getApp-apiV1AuthSession
      tags:
        - Authentication
      summary: Get session
      description: Get the current user session information. Can authenticate via either Authorization header (JWT bearer token) or session cookie.
      responses:
        '200':
          description: Session retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SessionResponse'
        '404':
          description: Session not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
      parameters:
        - in: header
          name: authorization
          schema:
            type: string
            example: Bearer f21wcpz7Aokmlh2MB632MZpTgfruPc62
          description: Bearer token for authentication
  '/app-api/v1/s/{projectId}':
    get:
      operationId: getApp-apiV1S:projectId
      description: List all translation strings for a project
      tags:
        - String
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListStringsResponse'
        '404':
          description: Project not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
      parameters:
        - in: header
          name: authorization
          schema:
            type: string
            example: Bearer f21wcpz7Aokmlh2MB632MZpTgfruPc62
          description: Bearer token for authentication
        - in: path
          name: projectId
          schema:
            type: string
            format: uuid
            pattern: '^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$'
            example: proj_1234567890abcdef
          required: true
          description: ID of the project
  '/app-api/v1/s/{projectId}/translations':
    put:
      operationId: putApp-apiV1S:projectIdTranslations
      description: 'Batch upsert strings and their translations for a project. Creates new strings if they do not exist, updates context if provided, and sets all translation values.'
      tags:
        - String
      responses:
        '200':
          description: Successful response with count of translations updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UpsertTranslationsResponse'
        '400':
          description: Bad request - Invalid payload schema or validation errors
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
        '401':
          description: Not authenticated
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
      parameters:
        - in: header
          name: authorization
          schema:
            type: string
            example: Bearer f21wcpz7Aokmlh2MB632MZpTgfruPc62
          description: Bearer token for authentication
        - $ref: '#/components/parameters/UpsertTranslationsParams'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpsertTranslationsPayload'
  '/app-api/v1/s/{projectId}/translations/{locale}/publish':
    post:
      operationId: postApp-apiV1S:projectIdTranslations:localePublish
      description: Publish a new snapshot version of the current translations for a locale. Creates an immutable copy that can be retrieved using the ?v=N query parameter.
      tags:
        - String
      responses:
        '201':
          description: Snapshot created successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PublishSnapshotResponse'
        '400':
          description: Bad request - Invalid parameters
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
        '401':
          description: Not authenticated
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    description: Error message
                  code:
                    description: Error code
                    type: string
                required:
                  - message
                description: Error response containing error message and optional error code
                title: Error Response
      parameters:
        - in: header
          name: authorization
          schema:
            type: string
            example: Bearer f21wcpz7Aokmlh2MB632MZpTgfruPc62
          description: Bearer token for authentication
        - in: path
          name: projectId
          schema:
            type: string
            format: uuid
            pattern: '^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$'
            example: proj_1234567890abcdef
          required: true
          description: ID of the project
        - in: path
          name: locale
          schema:
            type: string
            minLength: 1
            example: en
          required: true
          description: 'Locale code to publish (e.g., en, es, fr)'
components:
  schemas:
    GetTranslationsResponse:
      type: object
      propertyNames:
        type: string
      additionalProperties:
        type: string
      description: Key-value map of translation keys to translated values for a specific locale
      title: Get Translations Response
      example:
        HOME.TITLE: Welcome Home
        HOME.SUBTITLE: Your personal dashboard
        COMMON.SUBMIT: Submit
        COMMON.CANCEL: Cancel
    Locale:
      description: The default locale for the project. Must be a valid BCP 47 language tag
      example: en-US
      type: string
    ProjectResponse:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          description: The name of the project
          example: My App
        default_locale:
          $ref: '#/components/schemas/Locale'
        enabled_locales:
          type: array
          items:
            type: string
          description: List of enabled locales for the project. Duplicates will be removed automatically. The default locale will be included if not present.
          example:
            - en-US
            - fr-FR
            - es-ES
        public_read_key:
          type: string
          minLength: 1
          description: Public read-only API key for accessing project translations
          example: pk_1234567890abcdef
        id:
          type: string
          format: uuid
          pattern: '^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$'
          description: ID of the project
          example: proj_1234567890abcdef
      required:
        - name
        - default_locale
        - enabled_locales
        - public_read_key
        - id
      description: Response for a project
      title: Project Response
      example:
        id: proj_1234567890abcdef
        name: My App
        default_locale: en-US
        enabled_locales:
          - en-US
          - fr-FR
          - es-ES
        public_read_key: pk_1234567890abcdef
    CreateProjectPayload:
      description: Payload for creating a new project with localization settings
      title: Create Project Payload
      example:
        name: My App
        default_locale: en-US
        enabled_locales:
          - en-US
          - fr-FR
          - es-ES
        public_read_key: pk_1234567890abcdef
      type: object
      properties:
        name:
          type: string
          minLength: 1
          description: The name of the project
          example: My App
        default_locale:
          $ref: '#/components/schemas/Locale'
        enabled_locales:
          type: array
          items:
            type: string
          description: List of enabled locales for the project. Duplicates will be removed automatically. The default locale will be included if not present.
          example:
            - en-US
            - fr-FR
            - es-ES
        public_read_key:
          type: string
          minLength: 1
          description: Public read-only API key for accessing project translations
          example: pk_1234567890abcdef
      required:
        - name
        - default_locale
        - enabled_locales
        - public_read_key
    ListProjectsResponse:
      type: array
      items:
        $ref: '#/components/schemas/ProjectResponse'
      description: Array of projects belonging to the authenticated user
      title: List Projects Response
      example:
        - id: proj_1234567890abcdef
          name: My App
          default_locale: en-US
          enabled_locales:
            - en-US
            - fr-FR
            - es-ES
          public_read_key: pk_1234567890abcdef
    UserInfo:
      type: object
      properties:
        id:
          type: string
          description: User ID
        name:
          type: string
          description: User display name
      required:
        - id
        - name
      description: User who created this version
      title: User Info
    DraftInfo:
      type: object
      properties:
        value:
          type: string
          description: Current draft translation value
        updatedAt:
          type: string
          format: date-time
          pattern: "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z|([+-](?:[01]\\d|2[0-3]):[0-5]\\d)))$"
          description: ISO 8601 timestamp of last update
        updatedBy:
          $ref: '#/components/schemas/UserInfo'
      required:
        - value
        - updatedAt
        - updatedBy
      description: Information about the current draft version of a string
      title: Draft Info
    VersionHistoryItem:
      type: object
      properties:
        version:
          type: integer
          exclusiveMinimum: 0
          maximum: 9007199254740991
          description: Version number
        value:
          type: string
          description: Translation value at this version
        createdAt:
          type: string
          format: date-time
          pattern: "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z|([+-](?:[01]\\d|2[0-3]):[0-5]\\d)))$"
          description: ISO 8601 timestamp of version creation
        createdBy:
          $ref: '#/components/schemas/UserInfo'
      required:
        - version
        - value
        - createdAt
        - createdBy
      description: Information about a specific published version
      title: Version History Item
    PaginationInfo:
      type: object
      properties:
        page:
          type: integer
          exclusiveMinimum: 0
          maximum: 9007199254740991
          description: Current page number
        pageSize:
          type: integer
          exclusiveMinimum: 0
          maximum: 9007199254740991
          description: Items per page
        totalVersions:
          type: integer
          minimum: 0
          maximum: 9007199254740991
          description: Total number of versions
        hasMore:
          type: boolean
          description: Whether more versions exist
      required:
        - page
        - pageSize
        - totalVersions
        - hasMore
      description: Pagination information
      title: Pagination Info
    LocaleVersionHistory:
      type: object
      properties:
        locale:
          description: 'Locale code (e.g., "en", "es")'
          type: string
        draft:
          anyOf:
            - $ref: '#/components/schemas/DraftInfo'
            - type: 'null'
          description: 'Current draft version, null if none exists'
        versions:
          type: array
          items:
            $ref: '#/components/schemas/VersionHistoryItem'
          description: 'Published versions, sorted DESC'
        pagination:
          $ref: '#/components/schemas/PaginationInfo'
      required:
        - locale
        - draft
        - versions
        - pagination
      description: Complete version history for a string in a specific locale
      title: Locale Version History
    ListStringVersionsResponse:
      type: object
      properties:
        stringKey:
          type: string
          description: 'The string key (e.g., "HOME.TITLE")'
        locales:
          type: array
          items:
            $ref: '#/components/schemas/LocaleVersionHistory'
          description: Version history for each locale
      required:
        - stringKey
        - locales
      description: Complete version history for a string across locales
      title: List String Versions Response
      example:
        stringKey: HOME.TITLE
        locales:
          - locale: en
            draft:
              value: Welcome to the App
              updatedAt: 2026-02-01T10:30:00Z
              updatedBy:
                id: user-123
                name: Alice Developer
            versions:
              - version: 3
                value: Welcome!
                createdAt: 2026-01-30T14:20:00Z
                createdBy:
                  id: user-456
                  name: Bob Translator
            pagination:
              page: 1
              pageSize: 20
              totalVersions: 1
              hasMore: false
    AuthResponse:
      type: object
      properties:
        token:
          type: string
          minLength: 1
          description: Authentication token for the signed-in user
          example: f21wcpz7Aokmlh2MB632MZpTgfruPc62
      required:
        - token
      description: General auth response
    EmailPasswordSignUp:
      type: object
      properties:
        email:
          type: string
          format: email
          pattern: "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
          description: User email address
          example: john.doe@example.com
        password:
          type: string
          minLength: 8
          maxLength: 128
          description: User password (minimum 8 characters)
          example: SecurePassword123!
        name:
          type: string
          minLength: 3
          description: 'User display name (minimum 2 words, each with at least one letter)'
          example: John Doe
        callbackURL:
          description: URL to redirect to after sign up
          example: https://example.com/dashboard
          type: string
          format: uri
      required:
        - email
        - password
        - name
      description: Request body for signing up with email and password
      title: Email Password Sign Up
      example:
        email: john.doe@example.com
        password: SecurePassword123!
        name: John Doe
        callbackURL: https://example.com/dashboard
    EmailPasswordSignIn:
      type: object
      properties:
        email:
          type: string
          format: email
          pattern: "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
          description: User email address
          example: user@example.com
        password:
          type: string
          minLength: 6
          description: User password (minimum 6 characters)
          example: securePassword123
        callbackURL:
          description: 'Optional URL to redirect to after successful sign in. If not provided, the default redirect will be used.'
          example: https://app.example.com/dashboard
          type: string
          format: uri
      required:
        - email
        - password
      description: Request payload for signing in with email and password credentials
      title: Email Password Sign In Request
      example:
        email: user@example.com
        password: securePassword123
        callbackURL: https://app.example.com/dashboard
    TokenResponse:
      type: object
      properties:
        token:
          type: string
          description: JWT token
          example: 'eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9...'
      required:
        - token
      description: Token response
    SessionResponse:
      type: object
      properties:
        session:
          type: object
          properties:
            expires_at:
              type: string
              format: date-time
              pattern: "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z|([+-](?:[01]\\d|2[0-3]):[0-5]\\d)))$"
              description: Session expiration timestamp
              example: 2025-10-12T12:08:28.382Z
            created_at:
              type: string
              format: date-time
              pattern: "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z|([+-](?:[01]\\d|2[0-3]):[0-5]\\d)))$"
              description: Session creation timestamp
              example: 2025-10-05T12:08:28.382Z
            updated_at:
              type: string
              format: date-time
              pattern: "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z|([+-](?:[01]\\d|2[0-3]):[0-5]\\d)))$"
              description: Session last update timestamp
              example: 2025-10-05T12:08:28.382Z
          required:
            - expires_at
            - created_at
            - updated_at
        user:
          type: object
          properties:
            id:
              type: string
              description: Users ID
              example: mI1bHG27g2GOTOHz3v6ob3Huc9xWILP2
            name:
              type: string
              description: User full name
              example: John Doe
            email:
              type: string
              format: email
              pattern: "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
              description: User email address
              example: john@apple.com
            email_verified:
              type: boolean
              description: Whether the user email has been verified
              example: false
            created_at:
              type: string
              format: date-time
              pattern: "^(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))T(?:(?:[01]\\d|2[0-3]):[0-5]\\d(?::[0-5]\\d(?:\\.\\d+)?)?(?:Z|([+-](?:[01]\\d|2[0-3]):[0-5]\\d)))$"
              description: User account creation timestamp
              example: 2025-10-05T12:08:28.374Z
            locale:
              description: Users preferred locale
              example: en
              type: string
          required:
            - id
            - name
            - email
            - email_verified
            - created_at
            - locale
      required:
        - session
        - user
      description: Session response containing session and user information
      title: Session Response
      example:
        session:
          expires_at: 2025-10-12T12:08:28.382Z
          created_at: 2025-10-05T12:08:28.382Z
          updated_at: 2025-10-05T12:08:28.382Z
        user:
          id: mI1bHG27g2GOTOHz3v6ob3Huc9xWILP2
          name: John Doe
          email: john@apple.com
          email_verified: false
          created_at: 2025-10-05T12:08:28.374Z
    StringResponse:
      type: object
      properties:
        id:
          type: string
          minLength: 1
          description: Unique identifier for the string
          example: str_1234567890abcdef
        key:
          type: string
          minLength: 1
          description: 'Translation key (e.g., HOME.TITLE)'
          example: HOME.TITLE
        context:
          anyOf:
            - type: string
            - type: 'null'
          description: Optional context explaining where/how the string is used
          example: Page title shown in browser tab and header
        project_id:
          type: string
          minLength: 1
          description: ID of the project this string belongs to
          example: proj_1234567890abcdef
      required:
        - id
        - key
        - context
        - project_id
      description: Response for a translation string
      title: String Response
      example:
        id: str_1234567890abcdef
        key: HOME.TITLE
        context: Page title shown in browser tab
        project_id: proj_1234567890abcdef
    ListStringsResponse:
      type: array
      items:
        $ref: '#/components/schemas/StringResponse'
      description: Array of translation strings for a project
      title: List Strings Response
      example:
        - id: str_1234567890abcdef
          key: HOME.TITLE
          context: Page title shown in browser tab
          project_id: proj_1234567890abcdef
    UpsertTranslationsResponse:
      type: object
      properties:
        updated_count:
          type: integer
          minimum: 0
          maximum: 9007199254740991
          description: Number of translation entries that were updated or created
          example: 5
      required:
        - updated_count
      description: Response after batch upserting translations
      title: Upsert Translations Response
      example:
        updated_count: 5
    UpsertTranslationsPayload:
      type: object
      properties:
        translations:
          minItems: 1
          type: array
          items:
            type: object
            properties:
              key:
                type: string
                minLength: 1
                description: 'Translation key (e.g., HOME.TITLE)'
                example: HOME.TITLE
              context:
                description: Optional context explaining where/how the string is used
                example: Page title shown in browser tab and header
                anyOf:
                  - type: string
                  - type: 'null'
              translations:
                type: object
                propertyNames:
                  type: string
                  minLength: 1
                additionalProperties:
                  type: string
                description: Map of locale codes to translation values
                example:
                  en: Welcome Home
                  es: Bienvenido a Casa
            required:
              - key
              - translations
          description: Array of translation entries to upsert
      required:
        - translations
      description: Payload for batch upserting strings and their translations
      title: Upsert Translations Payload
      example:
        translations:
          - key: HOME.TITLE
            context: Page title shown in browser tab
            translations:
              en: Welcome Home
              es: Bienvenido a Casa
          - key: HOME.SUBTITLE
            translations:
              en: Your personal dashboard
    PublishSnapshotResponse:
      type: object
      properties:
        version:
          type: integer
          exclusiveMinimum: 0
          maximum: 9007199254740991
          description: The version number of the newly created snapshot
          example: 1
        translation_count:
          type: integer
          minimum: 0
          maximum: 9007199254740991
          description: Number of translations in this snapshot
          example: 42
      required:
        - version
        - translation_count
      description: Response after creating a new translation snapshot
      title: Publish Snapshot Response
  parameters:
    ListStringVersionsQuery:
      in: query
      name: locale
      schema:
        type: string
      description: 'Filter to specific locale (e.g., "en", "es")'
    ReadProjectParams:
      in: path
      name: projectId
      schema:
        type: string
        format: uuid
        pattern: '^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$'
        example: proj_1234567890abcdef
      required: true
      description: ID of the project
    UpsertTranslationsParams:
      in: path
      name: projectId
      schema:
        type: string
        format: uuid
        pattern: '^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$'
        example: proj_1234567890abcdef
      required: true
      description: ID of the project
